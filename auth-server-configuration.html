<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Auth Server Configuration | Melody Auth</title><meta name="description" content="Effortless OAuth and Authentication, Built for Flexibility and Control.">
    <link rel="preload" href="/assets/style-tstkky8y.css" as="style"><link rel="stylesheet" href="/assets/style-tstkky8y.css">
    <link rel="modulepreload" href="/assets/app-C0G1XB4x.js"><link rel="modulepreload" href="/assets/auth-server-configuration.html-B2Zj_Wi5.js">
    <link rel="prefetch" href="/assets/index.html-CYxmuiI8.js" as="script"><link rel="prefetch" href="/assets/admin-panel-setup.html-BZ9KQofs.js" as="script"><link rel="prefetch" href="/assets/auth-server-setup.html-DlALMfP7.js" as="script"><link rel="prefetch" href="/assets/deployment-pipelines.html-ClXuYgmu.js" as="script"><link rel="prefetch" href="/assets/email-provider-setup.html-M663r6Uo.js" as="script"><link rel="prefetch" href="/assets/q_a.html-Cs-jukLp.js" as="script"><link rel="prefetch" href="/assets/react-sdk.html-Bd3-2nnG.js" as="script"><link rel="prefetch" href="/assets/s2s-api.html-BS0YDZWS.js" as="script"><link rel="prefetch" href="/assets/screenshots.html-CaWm032q.js" as="script"><link rel="prefetch" href="/assets/sms-provider-setup.html-CVbctcY2.js" as="script"><link rel="prefetch" href="/assets/social-sign-in-provider-setup.html-HBBL8iCj.js" as="script"><link rel="prefetch" href="/assets/404.html-CitQBpaR.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-vNcgtJSY.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="https://raw.githubusercontent.com/ValueMelody/melody-homepage/main/logo.jpg" alt="Melody Auth"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Melody Auth</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><!----><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Auth Server Configuration <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#applying-configuration-changes" aria-label="Applying Configuration Changes:"><!--[--><!--[--><!--]--><!--]-->Applying Configuration Changes:<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#branding-configs" aria-label="Branding Configs"><!--[--><!--[--><!--]--><!--]-->Branding Configs<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#company-logo-url" aria-label="COMPANY_LOGO_URL"><!--[--><!--[--><!--]--><!--]-->COMPANY_LOGO_URL<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#font-family" aria-label="FONT_FAMILY"><!--[--><!--[--><!--]--><!--]-->FONT_FAMILY<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#font-url" aria-label="FONT_URL"><!--[--><!--[--><!--]--><!--]-->FONT_URL<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#layout-color" aria-label="LAYOUT_COLOR"><!--[--><!--[--><!--]--><!--]-->LAYOUT_COLOR<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#label-color" aria-label="LABEL_COLOR"><!--[--><!--[--><!--]--><!--]-->LABEL_COLOR<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#primary-button-color" aria-label="PRIMARY_BUTTON_COLOR"><!--[--><!--[--><!--]--><!--]-->PRIMARY_BUTTON_COLOR<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#primary-button-label-color" aria-label="PRIMARY_BUTTON_LABEL_COLOR"><!--[--><!--[--><!--]--><!--]-->PRIMARY_BUTTON_LABEL_COLOR<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#primary-button-border-color" aria-label="PRIMARY_BUTTON_BORDER_COLOR"><!--[--><!--[--><!--]--><!--]-->PRIMARY_BUTTON_BORDER_COLOR<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#secondary-button-color" aria-label="SECONDARY_BUTTON_COLOR"><!--[--><!--[--><!--]--><!--]-->SECONDARY_BUTTON_COLOR<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#secondary-button-label-color" aria-label="SECONDARY_BUTTON_LABEL_COLOR"><!--[--><!--[--><!--]--><!--]-->SECONDARY_BUTTON_LABEL_COLOR<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#secondary-button-border-color" aria-label="SECONDARY_BUTTON_BORDER_COLOR"><!--[--><!--[--><!--]--><!--]-->SECONDARY_BUTTON_BORDER_COLOR<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#critical-indicator-color" aria-label="CRITICAL_INDICATOR_COLOR"><!--[--><!--[--><!--]--><!--]-->CRITICAL_INDICATOR_COLOR<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#email-sender-name" aria-label="EMAIL_SENDER_NAME"><!--[--><!--[--><!--]--><!--]-->EMAIL_SENDER_NAME<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#terms-link" aria-label="TERMS_LINK"><!--[--><!--[--><!--]--><!--]-->TERMS_LINK<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#privacy-policy-link" aria-label="PRIVACY_POLICY_LINK"><!--[--><!--[--><!--]--><!--]-->PRIVACY_POLICY_LINK<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#locale-configs" aria-label="Locale Configs"><!--[--><!--[--><!--]--><!--]-->Locale Configs<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#supported-locales" aria-label="SUPPORTED_LOCALES"><!--[--><!--[--><!--]--><!--]-->SUPPORTED_LOCALES<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#enable-locale-selector" aria-label="ENABLE_LOCALE_SELECTOR"><!--[--><!--[--><!--]--><!--]-->ENABLE_LOCALE_SELECTOR<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#suppression-configs" aria-label="Suppression Configs"><!--[--><!--[--><!--]--><!--]-->Suppression Configs<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#enable-sign-up" aria-label="ENABLE_SIGN_UP"><!--[--><!--[--><!--]--><!--]-->ENABLE_SIGN_UP<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#enable-password-sign-in" aria-label="ENABLE_PASSWORD_SIGN_IN"><!--[--><!--[--><!--]--><!--]-->ENABLE_PASSWORD_SIGN_IN<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#enable-password-reset" aria-label="ENABLE_PASSWORD_RESET"><!--[--><!--[--><!--]--><!--]-->ENABLE_PASSWORD_RESET<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#enable-names" aria-label="ENABLE_NAMES"><!--[--><!--[--><!--]--><!--]-->ENABLE_NAMES<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#names-is-required" aria-label="NAMES_IS_REQUIRED"><!--[--><!--[--><!--]--><!--]-->NAMES_IS_REQUIRED<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#enable-user-app-consent" aria-label="ENABLE_USER_APP_CONSENT"><!--[--><!--[--><!--]--><!--]-->ENABLE_USER_APP_CONSENT<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#enable-email-verification" aria-label="ENABLE_EMAIL_VERIFICATION"><!--[--><!--[--><!--]--><!--]-->ENABLE_EMAIL_VERIFICATION<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#enable-org" aria-label="ENABLE_ORG"><!--[--><!--[--><!--]--><!--]-->ENABLE_ORG<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#blocked-policies" aria-label="BLOCKED_POLICIES"><!--[--><!--[--><!--]--><!--]-->BLOCKED_POLICIES<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#auth-configs" aria-label="Auth Configs"><!--[--><!--[--><!--]--><!--]-->Auth Configs<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#authorization-code-expires-in" aria-label="AUTHORIZATION_CODE_EXPIRES_IN"><!--[--><!--[--><!--]--><!--]-->AUTHORIZATION_CODE_EXPIRES_IN<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#spa-access-token-expires-in" aria-label="SPA_ACCESS_TOKEN_EXPIRES_IN"><!--[--><!--[--><!--]--><!--]-->SPA_ACCESS_TOKEN_EXPIRES_IN<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#spa-refresh-token-expires-in" aria-label="SPA_REFRESH_TOKEN_EXPIRES_IN"><!--[--><!--[--><!--]--><!--]-->SPA_REFRESH_TOKEN_EXPIRES_IN<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#s2s-access-token-expires-in" aria-label="S2S_ACCESS_TOKEN_EXPIRES_IN"><!--[--><!--[--><!--]--><!--]-->S2S_ACCESS_TOKEN_EXPIRES_IN<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#id-token-expires-in" aria-label="ID_TOKEN_EXPIRES_IN"><!--[--><!--[--><!--]--><!--]-->ID_TOKEN_EXPIRES_IN<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#server-session-expires-in" aria-label="SERVER_SESSION_EXPIRES_IN"><!--[--><!--[--><!--]--><!--]-->SERVER_SESSION_EXPIRES_IN<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#mfa-configs" aria-label="MFA Configs"><!--[--><!--[--><!--]--><!--]-->MFA Configs<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#otp-mfa-is-required" aria-label="OTP_MFA_IS_REQUIRED"><!--[--><!--[--><!--]--><!--]-->OTP_MFA_IS_REQUIRED<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#sms-mfa-is-required" aria-label="SMS_MFA_IS_REQUIRED"><!--[--><!--[--><!--]--><!--]-->SMS_MFA_IS_REQUIRED<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#email-mfa-is-required" aria-label="EMAIL_MFA_IS_REQUIRED"><!--[--><!--[--><!--]--><!--]-->EMAIL_MFA_IS_REQUIRED<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#enforce-one-mfa-enrollment" aria-label="ENFORCE_ONE_MFA_ENROLLMENT"><!--[--><!--[--><!--]--><!--]-->ENFORCE_ONE_MFA_ENROLLMENT<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#allow-email-mfa-as-backup" aria-label="ALLOW_EMAIL_MFA_AS_BACKUP"><!--[--><!--[--><!--]--><!--]-->ALLOW_EMAIL_MFA_AS_BACKUP<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#allow-passkey-enrollment" aria-label="ALLOW_PASSKEY_ENROLLMENT"><!--[--><!--[--><!--]--><!--]-->ALLOW_PASSKEY_ENROLLMENT<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#brute-force-configs" aria-label="Brute-force Configs"><!--[--><!--[--><!--]--><!--]-->Brute-force Configs<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#account-lockout-expires-in" aria-label="ACCOUNT_LOCKOUT_EXPIRES_IN"><!--[--><!--[--><!--]--><!--]-->ACCOUNT_LOCKOUT_EXPIRES_IN<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#unlock-account-via-password-reset" aria-label="UNLOCK_ACCOUNT_VIA_PASSWORD_RESET"><!--[--><!--[--><!--]--><!--]-->UNLOCK_ACCOUNT_VIA_PASSWORD_RESET<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#password-reset-email-threshold" aria-label="PASSWORD_RESET_EMAIL_THRESHOLD"><!--[--><!--[--><!--]--><!--]-->PASSWORD_RESET_EMAIL_THRESHOLD<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#email-mfa-email-threshold" aria-label="EMAIL_MFA_EMAIL_THRESHOLD"><!--[--><!--[--><!--]--><!--]-->EMAIL_MFA_EMAIL_THRESHOLD<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#change-email-email-threshold" aria-label="CHANGE_EMAIL_EMAIL_THRESHOLD"><!--[--><!--[--><!--]--><!--]-->CHANGE_EMAIL_EMAIL_THRESHOLD<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#sms-mfa-message-threshold" aria-label="SMS_MFA_MESSAGE_THRESHOLD"><!--[--><!--[--><!--]--><!--]-->SMS_MFA_MESSAGE_THRESHOLD<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#account-lockout-threshold" aria-label="ACCOUNT_LOCKOUT_THRESHOLD"><!--[--><!--[--><!--]--><!--]-->ACCOUNT_LOCKOUT_THRESHOLD<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#social-sign-in-configs" aria-label="Social Sign-in Configs"><!--[--><!--[--><!--]--><!--]-->Social Sign-in Configs<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#google-auth-client-id" aria-label="GOOGLE_AUTH_CLIENT_ID"><!--[--><!--[--><!--]--><!--]-->GOOGLE_AUTH_CLIENT_ID<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#facebook-auth-client-id" aria-label="FACEBOOK_AUTH_CLIENT_ID"><!--[--><!--[--><!--]--><!--]-->FACEBOOK_AUTH_CLIENT_ID<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#github-auth-client-id-github-auth-app-name" aria-label="GITHUB_AUTH_CLIENT_ID &amp; GITHUB_AUTH_APP_NAME"><!--[--><!--[--><!--]--><!--]-->GITHUB_AUTH_CLIENT_ID &amp; GITHUB_AUTH_APP_NAME<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#log-configs" aria-label="Log Configs"><!--[--><!--[--><!--]--><!--]-->Log Configs<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#enable-email-log" aria-label="ENABLE_EMAIL_LOG"><!--[--><!--[--><!--]--><!--]-->ENABLE_EMAIL_LOG<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#enable-sms-log" aria-label="ENABLE_SMS_LOG"><!--[--><!--[--><!--]--><!--]-->ENABLE_SMS_LOG<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#enable-sign-in-log" aria-label="ENABLE_SIGN_IN_LOG"><!--[--><!--[--><!--]--><!--]-->ENABLE_SIGN_IN_LOG<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="auth-server-configuration" tabindex="-1"><a class="header-anchor" href="#auth-server-configuration"><span>Auth Server Configuration</span></a></h1><p>Melody Auth offers a range of customizable options to tailor the authentication server to your specific needs. You can modify these settings by adjusting the values in the <code>[vars]</code> section of the <code>server/wrangler.toml</code> file.</p><h2 id="applying-configuration-changes" tabindex="-1"><a class="header-anchor" href="#applying-configuration-changes"><span>Applying Configuration Changes:</span></a></h2><ol><li>Open <code>server/wrangler.toml</code> in your preferred text editor.</li><li>Locate the <code>[vars]</code> section.</li><li>Modify the values as needed.</li><li>Save the file.</li><li>Redeploy or restart your server</li></ol><h2 id="branding-configs" tabindex="-1"><a class="header-anchor" href="#branding-configs"><span>Branding Configs</span></a></h2><h3 id="company-logo-url" tabindex="-1"><a class="header-anchor" href="#company-logo-url"><span>COMPANY_LOGO_URL</span></a></h3><ul><li><strong>Default:</strong> https://raw.githubusercontent.com/ValueMelody/melody-homepage/main/logo.jpg</li><li><strong>Description:</strong> URL of the logo displayed on authentication pages.</li></ul><h3 id="font-family" tabindex="-1"><a class="header-anchor" href="#font-family"><span>FONT_FAMILY</span></a></h3><ul><li><strong>Default:</strong> Inter</li><li><strong>Description:</strong> Font family used on authentication pages.</li></ul><h3 id="font-url" tabindex="-1"><a class="header-anchor" href="#font-url"><span>FONT_URL</span></a></h3><ul><li><strong>Default:</strong> https://fonts.googleapis.com/css2?family=Inter:wght@400..600&amp;display=swap</li><li><strong>Description:</strong> URL for loading your chosen font (e.g., Inter) from Google Fonts.</li></ul><h3 id="layout-color" tabindex="-1"><a class="header-anchor" href="#layout-color"><span>LAYOUT_COLOR</span></a></h3><ul><li><strong>Default:</strong> lightgray</li><li><strong>Description:</strong> Background color for the authentication page layout.</li></ul><h3 id="label-color" tabindex="-1"><a class="header-anchor" href="#label-color"><span>LABEL_COLOR</span></a></h3><ul><li><strong>Default:</strong> black</li><li><strong>Description:</strong> Font color for labels on authentication pages.</li></ul><h3 id="primary-button-color" tabindex="-1"><a class="header-anchor" href="#primary-button-color"><span>PRIMARY_BUTTON_COLOR</span></a></h3><ul><li><strong>Default:</strong> white</li><li><strong>Description:</strong> Background color of primary buttons.</li></ul><h3 id="primary-button-label-color" tabindex="-1"><a class="header-anchor" href="#primary-button-label-color"><span>PRIMARY_BUTTON_LABEL_COLOR</span></a></h3><ul><li><strong>Default:</strong> black</li><li><strong>Description:</strong> Label (text) color of primary buttons.</li></ul><h3 id="primary-button-border-color" tabindex="-1"><a class="header-anchor" href="#primary-button-border-color"><span>PRIMARY_BUTTON_BORDER_COLOR</span></a></h3><ul><li><strong>Default:</strong> black</li><li><strong>Description:</strong> Border color of primary buttons.</li></ul><h3 id="secondary-button-color" tabindex="-1"><a class="header-anchor" href="#secondary-button-color"><span>SECONDARY_BUTTON_COLOR</span></a></h3><ul><li><strong>Default:</strong> white</li><li><strong>Description:</strong> Background color of secondary buttons.</li></ul><h3 id="secondary-button-label-color" tabindex="-1"><a class="header-anchor" href="#secondary-button-label-color"><span>SECONDARY_BUTTON_LABEL_COLOR</span></a></h3><ul><li><strong>Default:</strong> black</li><li><strong>Description:</strong> Label (text) color of secondary buttons.</li></ul><h3 id="secondary-button-border-color" tabindex="-1"><a class="header-anchor" href="#secondary-button-border-color"><span>SECONDARY_BUTTON_BORDER_COLOR</span></a></h3><ul><li><strong>Default:</strong> black</li><li><strong>Description:</strong> Border color of secondary buttons.</li></ul><h3 id="critical-indicator-color" tabindex="-1"><a class="header-anchor" href="#critical-indicator-color"><span>CRITICAL_INDICATOR_COLOR</span></a></h3><ul><li><strong>Default:</strong> #e00</li><li><strong>Description:</strong> Color used for critical indicators (e.g., errors).</li></ul><h3 id="email-sender-name" tabindex="-1"><a class="header-anchor" href="#email-sender-name"><span>EMAIL_SENDER_NAME</span></a></h3><ul><li><strong>Default:</strong> &quot;Melody Auth&quot;</li><li><strong>Description:</strong> Display name in emails sent to users.</li></ul><h3 id="terms-link" tabindex="-1"><a class="header-anchor" href="#terms-link"><span>TERMS_LINK</span></a></h3><ul><li><strong>Default:</strong> &quot;&quot;</li><li><strong>Description:</strong> URL of your Terms of Service. If set, a link to these terms is shown on the sign-up page.</li></ul><h3 id="privacy-policy-link" tabindex="-1"><a class="header-anchor" href="#privacy-policy-link"><span>PRIVACY_POLICY_LINK</span></a></h3><ul><li><strong>Default:</strong> &quot;&quot;</li><li><strong>Description:</strong> URL of your Privacy Policy. If set, a link to this policy is shown on the sign-up page.</li></ul><h2 id="locale-configs" tabindex="-1"><a class="header-anchor" href="#locale-configs"><span>Locale Configs</span></a></h2><h3 id="supported-locales" tabindex="-1"><a class="header-anchor" href="#supported-locales"><span>SUPPORTED_LOCALES</span></a></h3><ul><li><strong>Default:</strong> [&#39;en&#39;, &#39;fr&#39;]</li><li><strong>Description:</strong> Available locales for identity pages and email templates.</li></ul><h3 id="enable-locale-selector" tabindex="-1"><a class="header-anchor" href="#enable-locale-selector"><span>ENABLE_LOCALE_SELECTOR</span></a></h3><ul><li><strong>Default:</strong> true</li><li><strong>Description:</strong> Determines whether users can switch locales on identity pages. If only one locale is in <code>SUPPORTED_LOCALES</code>, the selector is hidden.</li></ul><h2 id="suppression-configs" tabindex="-1"><a class="header-anchor" href="#suppression-configs"><span>Suppression Configs</span></a></h2><h3 id="enable-sign-up" tabindex="-1"><a class="header-anchor" href="#enable-sign-up"><span>ENABLE_SIGN_UP</span></a></h3><ul><li><strong>Default:</strong> true</li><li><strong>Description:</strong> Toggles whether new user sign-ups are allowed. If <code>false</code>, the sign-up button is hidden on the sign-in page.</li></ul><h3 id="enable-password-sign-in" tabindex="-1"><a class="header-anchor" href="#enable-password-sign-in"><span>ENABLE_PASSWORD_SIGN_IN</span></a></h3><ul><li><strong>Default:</strong> true</li><li><strong>Description:</strong> Enables password-based sign-in. To restrict sign-ins to social providers only, set both <code>ENABLE_SIGN_UP</code>, <code>ENABLE_PASSWORD_SIGN_IN</code>, and <code>ENABLE_PASSWORD_RESET</code> to false.</li></ul><h3 id="enable-password-reset" tabindex="-1"><a class="header-anchor" href="#enable-password-reset"><span>ENABLE_PASSWORD_RESET</span></a></h3><ul><li><strong>Default:</strong> true</li><li><strong>Description:</strong> Enables password reset functionality. If <code>false</code>, the &quot;Forgot Password&quot; option is hidden.</li><li>Requires <a href="https://auth.valuemelody.com/email-provider-setup.html" target="_blank" rel="noopener noreferrer">Email Provider Setup</a></li></ul><h3 id="enable-names" tabindex="-1"><a class="header-anchor" href="#enable-names"><span>ENABLE_NAMES</span></a></h3><ul><li><strong>Default:</strong> true</li><li><strong>Description:</strong> Shows first and last name fields during sign-up. If <code>false</code>, name fields are hidden.</li></ul><h3 id="names-is-required" tabindex="-1"><a class="header-anchor" href="#names-is-required"><span>NAMES_IS_REQUIRED</span></a></h3><ul><li><strong>Default:</strong> false</li><li><strong>Description:</strong> Makes first and last name fields mandatory if <code>ENABLE_NAMES</code> is <code>true</code>.</li></ul><h3 id="enable-user-app-consent" tabindex="-1"><a class="header-anchor" href="#enable-user-app-consent"><span>ENABLE_USER_APP_CONSENT</span></a></h3><ul><li><strong>Default:</strong> true</li><li><strong>Description:</strong> Prompts users to grant permission to each app after authentication.</li></ul><h3 id="enable-email-verification" tabindex="-1"><a class="header-anchor" href="#enable-email-verification"><span>ENABLE_EMAIL_VERIFICATION</span></a></h3><ul><li><strong>Default:</strong> true</li><li><strong>Description:</strong> Prompts users to grant permission to each app after authentication.</li><li>Requires <a href="https://auth.valuemelody.com/email-provider-setup.html" target="_blank" rel="noopener noreferrer">Email Provider Setup</a></li></ul><h3 id="enable-org" tabindex="-1"><a class="header-anchor" href="#enable-org"><span>ENABLE_ORG</span></a></h3><ul><li><strong>Default:</strong> false</li><li><strong>Description:</strong> Toggles the organization feature. If <code>true</code>, users can create and manage organizations via the S2S API and admin panel.</li></ul><h3 id="blocked-policies" tabindex="-1"><a class="header-anchor" href="#blocked-policies"><span>BLOCKED_POLICIES</span></a></h3><ul><li><strong>Default:</strong> []</li><li><strong>Description:</strong> A list of policy names that should be blocked (change_password, change_email, reset_mfa, manage_passkey, update_info), preventing end users from triggering them</li></ul><h2 id="auth-configs" tabindex="-1"><a class="header-anchor" href="#auth-configs"><span>Auth Configs</span></a></h2><h3 id="authorization-code-expires-in" tabindex="-1"><a class="header-anchor" href="#authorization-code-expires-in"><span>AUTHORIZATION_CODE_EXPIRES_IN</span></a></h3><ul><li><strong>Default:</strong> 300 (5 minutes)</li><li><strong>Description:</strong> Duration (in seconds) for which authorization codes remain valid.</li></ul><h3 id="spa-access-token-expires-in" tabindex="-1"><a class="header-anchor" href="#spa-access-token-expires-in"><span>SPA_ACCESS_TOKEN_EXPIRES_IN</span></a></h3><ul><li><strong>Default:</strong> 1800 (30 minutes)</li><li><strong>Description:</strong> Lifespan of access tokens issued to single-page applications (SPAs).</li></ul><h3 id="spa-refresh-token-expires-in" tabindex="-1"><a class="header-anchor" href="#spa-refresh-token-expires-in"><span>SPA_REFRESH_TOKEN_EXPIRES_IN</span></a></h3><ul><li><strong>Default:</strong> 604800 (7 days)</li><li><strong>Description:</strong> Lifespan of refresh tokens issued to SPAs</li></ul><h3 id="s2s-access-token-expires-in" tabindex="-1"><a class="header-anchor" href="#s2s-access-token-expires-in"><span>S2S_ACCESS_TOKEN_EXPIRES_IN</span></a></h3><ul><li><strong>Default:</strong> 3600 (1 hour)</li><li><strong>Description:</strong> Lifespan of access tokens issued to server-to-server (S2S) applications.</li></ul><h3 id="id-token-expires-in" tabindex="-1"><a class="header-anchor" href="#id-token-expires-in"><span>ID_TOKEN_EXPIRES_IN</span></a></h3><ul><li><strong>Default:</strong> 1800 (30 minutes)</li><li><strong>Description:</strong> Lifespan of ID tokens.</li></ul><h3 id="server-session-expires-in" tabindex="-1"><a class="header-anchor" href="#server-session-expires-in"><span>SERVER_SESSION_EXPIRES_IN</span></a></h3><ul><li><strong>Default:</strong> 1800 (30 minutes)</li><li><strong>Description:</strong> Server session expiration time. If 0, server sessions are disabled.</li></ul><h2 id="mfa-configs" tabindex="-1"><a class="header-anchor" href="#mfa-configs"><span>MFA Configs</span></a></h2><h3 id="otp-mfa-is-required" tabindex="-1"><a class="header-anchor" href="#otp-mfa-is-required"><span>OTP_MFA_IS_REQUIRED</span></a></h3><ul><li><strong>Default:</strong> false</li><li><strong>Description:</strong> Forces users to set up TOTP-based MFA (e.g., Google Authenticator) during sign-in if <code>true</code>.</li></ul><h3 id="sms-mfa-is-required" tabindex="-1"><a class="header-anchor" href="#sms-mfa-is-required"><span>SMS_MFA_IS_REQUIRED</span></a></h3><ul><li><strong>Default:</strong> false</li><li><strong>Description:</strong> Enables SMS-based MFA. If <code>true</code>, users must confirm logins via an SMS code.</li><li>Requires <a href="https://auth.valuemelody.com/sms-provider-setup.html" target="_blank" rel="noopener noreferrer">SMS Provider Setup</a></li></ul><h3 id="email-mfa-is-required" tabindex="-1"><a class="header-anchor" href="#email-mfa-is-required"><span>EMAIL_MFA_IS_REQUIRED</span></a></h3><ul><li><strong>Default:</strong> false</li><li><strong>Description:</strong> Enables email-based MFA. If <code>true</code>, users must confirm logins via an email code.</li><li>Requires <a href="https://auth.valuemelody.com/email-provider-setup.html" target="_blank" rel="noopener noreferrer">Email Provider Setup</a></li></ul><h3 id="enforce-one-mfa-enrollment" tabindex="-1"><a class="header-anchor" href="#enforce-one-mfa-enrollment"><span>ENFORCE_ONE_MFA_ENROLLMENT</span></a></h3><ul><li><strong>Default:</strong> [&#39;otp&#39;, &#39;email&#39;]</li><li><strong>Description:</strong> Forces enrollment in at least one MFA type from the list: [&#39;otp&#39;, &#39;sms&#39;, &#39;email&#39;]. Only applies if all *_MFA_IS_REQUIRED settings are false. If empty, no MFA is enforced.</li><li>Requires <a href="https://auth.valuemelody.com/email-provider-setup.html" target="_blank" rel="noopener noreferrer">Email Provider Setup</a> if &#39;email&#39; is in the list</li><li>Requires <a href="https://auth.valuemelody.com/sms-provider-setup.html" target="_blank" rel="noopener noreferrer">SMS Provider Setup</a> if &#39;sms&#39; is in the list</li></ul><h3 id="allow-email-mfa-as-backup" tabindex="-1"><a class="header-anchor" href="#allow-email-mfa-as-backup"><span>ALLOW_EMAIL_MFA_AS_BACKUP</span></a></h3><ul><li><strong>Default:</strong> true</li><li><strong>Description:</strong> Allows email-based MFA as a fallback if a user is enrolled in OTP or SMS but not in email MFA.</li><li>Requires <a href="https://auth.valuemelody.com/email-provider-setup.html" target="_blank" rel="noopener noreferrer">Email Provider Setup</a></li></ul><h3 id="allow-passkey-enrollment" tabindex="-1"><a class="header-anchor" href="#allow-passkey-enrollment"><span>ALLOW_PASSKEY_ENROLLMENT</span></a></h3><ul><li><strong>Default:</strong> false</li><li><strong>Description:</strong> Enables passkey enrollment. If <code>true</code>, users can enroll in passkeys during sign-up. By enroll a passkey, a user can bypass password and multi-factor authentication during sign-in.</li></ul><h2 id="brute-force-configs" tabindex="-1"><a class="header-anchor" href="#brute-force-configs"><span>Brute-force Configs</span></a></h2><h3 id="account-lockout-expires-in" tabindex="-1"><a class="header-anchor" href="#account-lockout-expires-in"><span>ACCOUNT_LOCKOUT_EXPIRES_IN</span></a></h3><ul><li><strong>Default:</strong> 86400 (1 day)</li><li><strong>Description:</strong> Duration (in seconds) of an account lockout after too many failed login attempts. If 0, the account remains locked until manual reset.</li></ul><h3 id="unlock-account-via-password-reset" tabindex="-1"><a class="header-anchor" href="#unlock-account-via-password-reset"><span>UNLOCK_ACCOUNT_VIA_PASSWORD_RESET</span></a></h3><ul><li><strong>Default:</strong> true</li><li><strong>Description:</strong> Allows users to unlock their account by resetting their password.</li></ul><h3 id="password-reset-email-threshold" tabindex="-1"><a class="header-anchor" href="#password-reset-email-threshold"><span>PASSWORD_RESET_EMAIL_THRESHOLD</span></a></h3><ul><li><strong>Default:</strong> 5</li><li><strong>Description:</strong> Maximum password reset email requests per email/IP per day. 0 means no limit.</li></ul><h3 id="email-mfa-email-threshold" tabindex="-1"><a class="header-anchor" href="#email-mfa-email-threshold"><span>EMAIL_MFA_EMAIL_THRESHOLD</span></a></h3><ul><li><strong>Default:</strong> 10</li><li><strong>Description:</strong> Maximum email MFA requests per account/IP in a 30-minute window. 0 means no limit.</li></ul><h3 id="change-email-email-threshold" tabindex="-1"><a class="header-anchor" href="#change-email-email-threshold"><span>CHANGE_EMAIL_EMAIL_THRESHOLD</span></a></h3><ul><li><strong>Default:</strong> 5</li><li><strong>Description:</strong> Maximum change-email requests per account in a 30-minute window. 0 means no limit.</li></ul><h3 id="sms-mfa-message-threshold" tabindex="-1"><a class="header-anchor" href="#sms-mfa-message-threshold"><span>SMS_MFA_MESSAGE_THRESHOLD</span></a></h3><ul><li><strong>Default:</strong> 5</li><li><strong>Description:</strong> Maximum SMS MFA requests per account/IP in a 30-minute window. 0 means no limit.</li></ul><h3 id="account-lockout-threshold" tabindex="-1"><a class="header-anchor" href="#account-lockout-threshold"><span>ACCOUNT_LOCKOUT_THRESHOLD</span></a></h3><ul><li><strong>Default:</strong> 5</li><li><strong>Description:</strong> Number of failed login attempts before lockout. 0 means no lockout.</li></ul><h2 id="social-sign-in-configs" tabindex="-1"><a class="header-anchor" href="#social-sign-in-configs"><span>Social Sign-in Configs</span></a></h2><h3 id="google-auth-client-id" tabindex="-1"><a class="header-anchor" href="#google-auth-client-id"><span>GOOGLE_AUTH_CLIENT_ID</span></a></h3><ul><li><strong>Default:</strong> &quot;&quot;</li><li><strong>Description:</strong> Google Client ID (from Google Developer Console). If empty, Google Sign-In is hidden.</li></ul><h3 id="facebook-auth-client-id" tabindex="-1"><a class="header-anchor" href="#facebook-auth-client-id"><span>FACEBOOK_AUTH_CLIENT_ID</span></a></h3><ul><li><strong>Default:</strong> &quot;&quot;</li><li><strong>Description:</strong> Facebook Client ID (from Facebook Developer Console). If empty, Facebook Sign-In is hidden.</li><li>Note: Also need to set <code>FACEBOOK_AUTH_CLIENT_SECRET</code> in your .dev.vars or in Cloudflare Worker environment variables.</li></ul><h3 id="github-auth-client-id-github-auth-app-name" tabindex="-1"><a class="header-anchor" href="#github-auth-client-id-github-auth-app-name"><span>GITHUB_AUTH_CLIENT_ID &amp; GITHUB_AUTH_APP_NAME</span></a></h3><ul><li><strong>Default:</strong> &quot;&quot;</li><li><strong>Description:</strong> GitHub Client ID and App Name (from GitHub Developer Console). If empty, GitHub Sign-In is hidden. <b>In your GitHub App settings, set the callback URL to [your auth server doamin]/identity/v1/authorize-github, e.g., http://localhost:8787/identity/v1/authorize-github</b></li><li>Note: Also need to set <code>GITHUB_AUTH_CLIENT_SECRET</code> in your .dev.vars or in Cloudflare Worker environment variables.</li></ul><h3 id="log-configs" tabindex="-1"><a class="header-anchor" href="#log-configs"><span>Log Configs</span></a></h3><h3 id="enable-email-log" tabindex="-1"><a class="header-anchor" href="#enable-email-log"><span>ENABLE_EMAIL_LOG</span></a></h3><ul><li><strong>Default:</strong> false</li><li><strong>Description:</strong> Logs outgoing emails if <code>true</code>. Ensure you have a cleanup or retention policy before enabling this.</li></ul><h3 id="enable-sms-log" tabindex="-1"><a class="header-anchor" href="#enable-sms-log"><span>ENABLE_SMS_LOG</span></a></h3><ul><li><strong>Default:</strong> false</li><li><strong>Description:</strong> Logs SMS messages if true. Ensure you have a cleanup or retention policy before enabling this.</li></ul><h3 id="enable-sign-in-log" tabindex="-1"><a class="header-anchor" href="#enable-sign-in-log"><span>ENABLE_SIGN_IN_LOG</span></a></h3><ul><li><strong>Default:</strong> false</li><li><strong>Description:</strong> Logs user sign-in IP (production only) and geolocation data (Cloudflare only). If enabled, you must: <ul><li>Implement a cleanup scheduler.</li><li>Disclose data collection in your Privacy Policy.</li><li>Comply with applicable privacy and data regulations.</li></ul></li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: byn9826@gmail.com">Baozier</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-C0G1XB4x.js" defer></script>
  </body>
</html>
