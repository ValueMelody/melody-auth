name = "melody-oauth"
compatibility_date = "2023-12-01"

[vars]
AUTHORIZATION_CODE_EXPIRES_IN=60
SPA_ACCESS_TOKEN_EXPIRES_IN=1800
REFRESH_TOKEN_EXPIRES_IN=25200
S2S_ACCESS_TOKEN_EXPIRES_IN=3600
ID_TOKEN_EXPIRES_IN=1800
SERVER_SESSION_EXPIRES_IN=1800 # Set to 0 to disable session

OAUTH_SERVER_URL="http://localhost:8787" # The host url of your CF worker
COMPANY_LOGO_URL="https://raw.githubusercontent.com/ValueMelody/melody-homepage/main/logo.jpg"

ENABLE_SIGN_UP=true
ENABLE_NAMES=true
NAMES_IS_REQUIRED=false
ENABLE_USER_APP_CONSENT=true
ENABLE_EMAIL_VERIFICATION=true # Need a valid SENDGRID_API_KEY and SENDGRID_SENDER_ADDRESS in env var
ENABLE_PASSWORD_RESET=true # Need a valid SENDGRID_API_KEY and SENDGRID_SENDER_ADDRESS in env var

[[kv_namespaces]]
binding = "KV"
id = "c5e387463b9a40dd90811f9cf89b6166" # Replace with your own KV id

[[d1_databases]]
binding = "DB"
database_name = "melody-oauth"
database_id = "58a2e0aa-98b1-41a5-b6ea-b38ae9055cc9" # Replace with your own D1 id
