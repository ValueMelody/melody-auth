name = "melody-auth"
compatibility_date = "2023-12-01"

[vars]
AUTHORIZATION_CODE_EXPIRES_IN=60
SPA_ACCESS_TOKEN_EXPIRES_IN=1800
REFRESH_TOKEN_EXPIRES_IN=25200
S2S_ACCESS_TOKEN_EXPIRES_IN=3600
ID_TOKEN_EXPIRES_IN=1800
SERVER_SESSION_EXPIRES_IN=1800 # Set to 0 to disable session

AUTH_SERVER_URL="http://localhost:8787" # The host url of your CF worker
COMPANY_LOGO_URL="https://raw.githubusercontent.com/ValueMelody/melody-homepage/main/logo.jpg"

ENABLE_SIGN_UP=true
ENABLE_NAMES=true
NAMES_IS_REQUIRED=false
ENABLE_USER_APP_CONSENT=true
ENABLE_EMAIL_VERIFICATION=true # Need a valid SENDGRID_API_KEY and SENDGRID_SENDER_ADDRESS in env var
ENABLE_PASSWORD_RESET=true # Need a valid SENDGRID_API_KEY and SENDGRID_SENDER_ADDRESS in env var

[[kv_namespaces]]
binding = "KV"
id = "7d9be060a7bc48919251b37caa7e1fcd" # Replace with your own KV id

[[d1_databases]]
binding = "DB"
database_name = "melody-auth"
database_id = "87a3b0b4-a232-4047-a72a-3d65890387ba" # Replace with your own D1 id
