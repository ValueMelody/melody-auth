name = "melody-auth"
compatibility_date = "2023-12-01"
keep_vars = true

[vars]
AUTHORIZATION_CODE_EXPIRES_IN=300
SPA_ACCESS_TOKEN_EXPIRES_IN=1800
SPA_REFRESH_TOKEN_EXPIRES_IN=604800
S2S_ACCESS_TOKEN_EXPIRES_IN=3600
ID_TOKEN_EXPIRES_IN=1800
SERVER_SESSION_EXPIRES_IN=1800 # Set to 0 to disable session

COMPANY_LOGO_URL="https://raw.githubusercontent.com/ValueMelody/melody-homepage/main/logo.jpg"
ENABLE_SIGN_UP=true
ENABLE_PASSWORD_RESET=true # Requires enabling the email function first. To enable the email functionality, you must first set the environment variables SENDGRID_API_KEY and SENDGRID_SENDER_ADDRESS with valid values.
ENABLE_NAMES=true
NAMES_IS_REQUIRED=false
ENABLE_USER_APP_CONSENT=true
ENABLE_EMAIL_VERIFICATION=true # Requires enabling the email function first. To enable the email functionality, you must first set the environment variables SENDGRID_API_KEY and SENDGRID_SENDER_ADDRESS with valid values.
ENABLE_EMAIL_MFA=true # Requires enabling the email function first. To enable the email functionality, you must first set the environment variables SENDGRID_API_KEY and SENDGRID_SENDER_ADDRESS with valid values.

[[kv_namespaces]]
binding = "KV"
id = "7d9be060a7bc48919251b37caa7e1fcd" # Replace with your own KV ID

[[d1_databases]]
binding = "DB"
database_name = "melody-auth"
database_id = "8dc67df2-771d-4e73-9c16-d04341b9740e" # Replace with your own D1 ID
