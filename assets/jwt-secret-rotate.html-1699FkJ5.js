import{_ as n,c as a,a as s,o as l}from"./app-C2vUhxwJ.js";const r={};function t(i,e){return l(),a("div",null,e[0]||(e[0]=[s(`<h1 id="如何轮换-jwt-密钥" tabindex="-1"><a class="header-anchor" href="#如何轮换-jwt-密钥"><span>如何轮换 JWT 密钥</span></a></h1><p>轮换 JWT 密钥的步骤如下：</p><ol><li>生成新的 JWT 密钥： 根据你的环境运行密钥生成脚本。 运行完成后，新的一对 JWT 密钥将生效。旧密钥会被标记为已弃用，这意味着旧密钥将不再用于签发新的令牌，但使用旧密钥签发的现有令牌仍会被验证通过。</li></ol><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">cd server</span>
<span class="line">npm run node:secret:generate # 适用于 node 环境</span>
<span class="line">npm run dev:secret:generate # 适用于 Cloudflare 本地环境</span>
<span class="line">npm run prod:secret:generate # 适用于 Cloudflare 远程环境</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>清理旧密钥： 当你希望停止验证使用旧密钥签发的令牌时，运行密钥清理脚本。执行后，旧密钥将被移除，使用旧密钥签发的令牌将不再有效。</li></ol><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">cd server</span>
<span class="line">npm run node:secret:clean # 适用于 node 环境</span>
<span class="line">npm run dev:secret:clean # 适用于 Cloudflare 本地环境</span>
<span class="line">npm run prod:secret:clean # 适用于 Cloudflare 远程环境</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6)]))}const d=n(r,[["render",t]]),o=JSON.parse('{"path":"/zh/jwt-secret-rotate.html","title":"如何轮换 JWT 密钥","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1754954867000,"contributors":[{"name":"Baozier","username":"Baozier","email":"byn9826@gmail.com","commits":1,"url":"https://github.com/Baozier"}],"changelog":[{"hash":"8072502fc071765c4d8e2ab6e797919d78d7c086","time":1754954867000,"email":"byn9826@gmail.com","author":"Baozier","message":"Regroup docs (#420)"}]},"filePathRelative":"zh/jwt-secret-rotate.md"}');export{d as comp,o as data};
