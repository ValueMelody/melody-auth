import{_ as a,c as n,a as s,o as i}from"./app-DHIsNuWR.js";const l={};function t(r,e){return i(),n("div",null,e[0]||(e[0]=[s(`<h1 id="saml-sso-setup" tabindex="-1"><a class="header-anchor" href="#saml-sso-setup"><span>SAML SSO Setup</span></a></h1><p>SAML SSO is currently supported only in the Node.js environment of Melody Auth.</p><h2 id="_1-generate-saml-sp-certificate-and-key" tabindex="-1"><a class="header-anchor" href="#_1-generate-saml-sp-certificate-and-key"><span>1. Generate SAML SP certificate and key</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">npm</span> run node:saml:secret:generate</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_2-enable-saml-sso-in-wrangler-toml" tabindex="-1"><a class="header-anchor" href="#_2-enable-saml-sso-in-wrangler-toml"><span>2. Enable SAML SSO in <code>wrangler.toml</code></span></a></h2><p>Ensure that SAML SSO as a Service Provider (SP) is enabled in your server/wrangler.toml configuration file:</p><div class="language-toml line-numbers-mode" data-highlighter="prismjs" data-ext="toml"><pre><code><span class="line"><span class="token key property">ENABLE_SAML_SSO_AS_SP</span><span class="token punctuation">=</span><span class="token boolean">true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_3-register-a-saml-identity-provider-idp-via-admin-panel" tabindex="-1"><a class="header-anchor" href="#_3-register-a-saml-identity-provider-idp-via-admin-panel"><span>3. Register a SAML Identity Provider (IdP) via Admin Panel</span></a></h2><ul><li>Go to admin panel</li><li>Click &quot;Manage SAML&quot;</li><li>Click &quot;Create&quot; button</li><li>Define a unique name for the IDP, and fill in necessary information</li><li>Click &quot;Save&quot; button</li></ul><h2 id="_4-trigger-login-via-saml-sso-in-the-frontend" tabindex="-1"><a class="header-anchor" href="#_4-trigger-login-via-saml-sso-in-the-frontend"><span>4. Trigger Login via SAML SSO in the Frontend</span></a></h2><p>Use the loginRedirect function provided by your Melody Auth frontend SDK (e.g., @melody-auth/react) to initiate the login process:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">  const {</span>
<span class="line">    loginRedirect</span>
<span class="line">  } = useAuth()</span>
<span class="line"></span>
<span class="line">  loginRedirect({</span>
<span class="line">    locale: locale || undefined, org: &#39;default&#39;,</span>
<span class="line">    policy: &#39;saml_sso_[idp_name]&#39; # Replace [idp_name] with the name of the IDP you created in admin panel</span>
<span class="line">  })</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,12)]))}const d=a(l,[["render",t]]),c=JSON.parse('{"path":"/saml-sso-setup.html","title":"SAML SSO Setup","lang":"en-US","frontmatter":{},"git":{"updatedTime":1749599906000,"contributors":[{"name":"Baozier","username":"Baozier","email":"byn9826@gmail.com","commits":1,"url":"https://github.com/Baozier"}],"changelog":[{"hash":"636bc26c33605c914b296c6b8684b31543812aff","time":1749599906000,"email":"byn9826@gmail.com","author":"Baozier","message":"Add doc for SAML SSO (#385)","tag":"v1.3.2"}]},"filePathRelative":"saml-sso-setup.md"}');export{d as comp,c as data};
